(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(18)},16:function(t,e,a){},17:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(2),r=a.n(i),c=(a(16),a(3)),u=a(4),o=a(6),l=a(5),d=a(1),m=a(7),f=a(9),h=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(o.a)(this,Object(l.a)(e).call(this,t))).createTasks=a.createTasks.bind(Object(d.a)(a)),a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"createTasks",value:function(t){var e=this;return s.a.createElement("li",{key:t.id,className:"status-".concat(t.status)},s.a.createElement("div",{className:"card-texts"},s.a.createElement("span",{className:"status-name "},{0:"Waiting",1:"In progress",2:"Done"}[t.status]),s.a.createElement("p",{className:"task-name"},t.title)),s.a.createElement("div",{className:"card-buttons"},0===t.status&&t.is_active&&s.a.createElement("button",{className:"card-button",onClick:function(){return e.update(t.id,{status:1})}},"Start"),1===t.status&&t.is_active&&s.a.createElement("button",{className:"card-button",onClick:function(){return e.update(t.id,{status:2})}},"Finish"),t.is_active&&s.a.createElement("button",{className:"card-button",onClick:function(){return e.delete(t.id)}},"Archive"),!t.is_active&&s.a.createElement("button",{className:"card-button",onClick:function(){return e.update(t.id,{is_active:!0})}},"Unarchive")))}},{key:"delete",value:function(t){this.props.delete(t)}},{key:"update",value:function(t,e){this.props.update(t,e)}},{key:"render",value:function(){var t=this.props.entries.map(this.createTasks);return s.a.createElement("ul",{className:"theList"},s.a.createElement(f.a,{duration:250,easing:"ease-out"},t))}}]),e}(n.Component),v=(a(17),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(o.a)(this,Object(l.a)(e).call(this,t))).state={items:[]},a.getTasks=a.getTasks.bind(Object(d.a)(a)),a.addItem=a.addItem.bind(Object(d.a)(a)),a.deleteItem=a.deleteItem.bind(Object(d.a)(a)),a.updateTask=a.updateTask.bind(Object(d.a)(a)),a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch(e.baseUrl+"/tasks").then(function(t){return t.json()}).then(function(e){var a=e.data.sort(function(t,e){return t.status-e.status});t.setState({items:a})}).catch(console.error)}},{key:"getTasks",value:function(t){var a=this;fetch(e.baseUrl+"/tasks"+t).then(function(t){return t.json()}).then(function(t){var e=t.data.sort(function(t,e){return t.status-e.status});a.setState({items:e})})}},{key:"addItem",value:function(t){var a=this;if(""!==this._inputElement.value.trim()){var n={title:this._inputElement.value};fetch(e.baseUrl+"/tasks",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then(function(t){return t.json()}).then(function(t){n.id=t.data.id,n.key=t.data.id,n.status=t.data.status,n.is_active=t.data.is_active;var e=a.state.items.concat(n).sort(function(t,e){return t.status-e.status});a.setState(function(t){return{items:e}})})}this._inputElement.value="",t.preventDefault()}},{key:"deleteItem",value:function(t){var a=this;fetch(e.baseUrl+"/task/"+t,{method:"DELETE"}).then(function(e){var n=a.state.items.filter(function(e){return e.id!==t});a.setState({items:n})})}},{key:"updateTask",value:function(t,a){var n=this;fetch(e.baseUrl+"/task/"+t,{headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(a)}).then(function(t){return t.json()}).then(function(e){var s=e.updated_data,i=n.state.items;i.map(function(t){return t.id===s.id&&(t.status=s.status,t.is_active=s.is_active),t});var r=i.sort(function(t,e){return t.status-e.status});a.is_active&&(r=r.filter(function(e){return e.id!==t})),n.setState({items:r})})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"todoListMain"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"header-buttons"},s.a.createElement("button",{onClick:function(){return t.getTasks("")}},"Active"),s.a.createElement("button",{onClick:function(){return t.getTasks("/pending")}},"Pending"),s.a.createElement("button",{onClick:function(){return t.getTasks("/done")}},"Finished"),s.a.createElement("button",{onClick:function(){return t.getTasks("/archived")}},"Archived")),s.a.createElement("form",{onSubmit:this.addItem},s.a.createElement("input",{ref:function(e){return t._inputElement=e},placeholder:"enter task"}),s.a.createElement("button",{type:"submit"},"add"))),s.a.createElement(h,{entries:this.state.items,delete:this.deleteItem,update:this.updateTask}))}}]),e}(n.Component));v.baseUrl="http://localhost:5000/api/v1";var p=v,b=document.querySelector("#container");r.a.render(s.a.createElement("div",null,s.a.createElement(p,null)),b)}},[[10,1,2]]]);
//# sourceMappingURL=main.31c6cbfc.chunk.js.map